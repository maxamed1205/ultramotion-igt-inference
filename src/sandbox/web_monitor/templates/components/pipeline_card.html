<!-- Pipeline Card Component -->
<div class="c-card c-card--primary">
    <div class="c-card__header">
        <h3 class="c-card__title"><i class="fas fa-route"></i> GPU-Résident — Latence totale</h3>
        <div class="c-card__subtitle">Répartition proportionnelle des latences (dernière frame)</div>
    </div>

    <div class="c-card__content">

        <!-- Barre de progression empilée -->
        <div class="c-latency-bar-container">

            <!-- Légende des segments -->
            <div class="c-latency-bar__labels">
                <span>RX→CPU</span>
                <span>CPU→GPU</span>
                <span>PROC(GPU)</span>
                <span>GPU→CPU</span>
                <span>CPU→TX</span>
            </div>

            <!-- Barre empilée dynamique -->
            <div class="c-latency-bar" id="latency-bar">
                <!-- Chaque segment : largeur (%) remplie en JS -->
                <div
                    class="c-latency-bar__segment c-latency-bar__segment--rx-cpu"
                    id="segment-rx-cpu"
                    style="width: 0%"
                    title="RX→CPU">
                </div>

                <div
                    class="c-latency-bar__segment c-latency-bar__segment--cpu-gpu"
                    id="segment-cpu-gpu"
                    style="width: 0%"
                    title="CPU→GPU">
                </div>

                <div
                    class="c-latency-bar__segment c-latency-bar__segment--proc-gpu"
                    id="segment-proc-gpu"
                    style="width: 0%"
                    title="PROC(GPU)">
                </div>

                <div
                    class="c-latency-bar__segment c-latency-bar__segment--gpu-cpu"
                    id="segment-gpu-cpu"
                    style="width: 0%"
                    title="GPU→CPU">
                </div>

                <div
                    class="c-latency-bar__segment c-latency-bar__segment--cpu-tx"
                    id="segment-cpu-tx"
                    style="width: 0%"
                    title="CPU→TX">
                </div>
            </div>
        </div>

        <!-- Résumé compact -->
        <div class="c-pipeline-summary">
            <div class="c-pipeline-summary__item">
                <span>Total RX→TX :</span>
                <span
                    class="c-pipeline-summary__value c-pipeline-summary__value--highlight"
                    id="interstage-total">
                    --
                </span>
                <span class="c-pipeline-summary__label">
                    (Frame :
                    <span id="interstage-frame-id">-</span>
                    )
                </span>
            </div>
        </div>

        <!-- Valeurs brutes ms (dernière frame) -->
        <div class="c-latency-details">

            <div class="c-latency-details__item c-latency-details__item--rx-cpu">
                <span class="c-latency-details__label">RX→CPU</span>
                <span class="c-latency-details__value" id="lat-rx-cpu">-- ms</span>
            </div>

            <div class="c-latency-details__item c-latency-details__item--cpu-gpu">
                <span class="c-latency-details__label">CPU→GPU</span>
                <span class="c-latency-details__value" id="lat-cpu-gpu">-- ms</span>
            </div>

            <div class="c-latency-details__item c-latency-details__item--proc-gpu">
                <span class="c-latency-details__label">PROC(GPU)</span>
                <span class="c-latency-details__value" id="lat-proc-gpu">-- ms</span>
            </div>

            <div class="c-latency-details__item c-latency-details__item--gpu-cpu">
                <span class="c-latency-details__label">GPU→CPU</span>
                <span class="c-latency-details__value" id="lat-gpu-cpu">-- ms</span>
            </div>

            <div class="c-latency-details__item c-latency-details__item--cpu-tx">
                <span class="c-latency-details__label">CPU→TX</span>
                <span class="c-latency-details__value" id="lat-cpu-tx">-- ms</span>
            </div>
        </div>
    </div>
</div>
