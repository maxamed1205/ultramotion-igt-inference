{% extends "layout_base.html" %}

{% block title %} Analyse Pipeline | UltraMotion IGT{% endblock %}

{% block content %}
<div class="o-main-container">
    <!-- Contenu principal des graphiques -->
    <main class="o-main-content" data-page="analyse-pipeline">
        <div class="c-content-header">
            <h2 class="c-content-header__title">
                <i class="fas fa-chart-line"></i> Analyse Pipeline
            </h2>
            <div class="c-header-actions">
                <button class="c-btn c-btn--secondary" id="reset-charts" title="RÃ©initialiser les graphiques">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <button class="c-btn c-btn--secondary" onclick="window.location.href='/dashboard'" title="Retour au Dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
                <button class="c-btn c-btn--primary" id="export-charts" title="Exporter les graphiques">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
        </div>

        <!-- Zone principale des graphiques -->
        <div class="c-compare-layout">

            <!-- ðŸ§  GPU Transfer -->
            <div class="c-card c-chart-card">
                <div class="c-card__header">
                    <h3 class="c-card__title">
                        <i class="fas fa-layer-group"></i>
                        GPU Transfer â€” DÃ©composition par Frame (Norm / Pin / Copy)
                    </h3>
                </div>
                <div class="c-card__content c-chart-content">
                    <div id="chart-gpu-transfer" class="c-chart-area">
                        <div class="c-chart-loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>Chargement des donnÃ©es GPU Transferâ€¦</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ðŸŽ¯ Pipeline GPU-RÃ©sident -->
            <div class="c-card c-chart-card">
                <div class="c-card__header">
                    <h3 class="c-card__title">
                        <i class="fas fa-project-diagram"></i>
                        ðŸŽ¯ Pipeline GPU-RÃ©sident â€” Latences Inter-Ã‰tapes DÃ©taillÃ©es
                    </h3>
                </div>
                <div class="c-card__content c-chart-content">
                    <div id="chart-interstage-latency" class="c-chart-area">
                        <div class="c-chart-loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>Chargement des latences inter-Ã©tapesâ€¦</span>
                        </div>
                    </div>
                </div>
            </div>

        </div> <!-- fermeture du c-compare-layout -->
    </main>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('assets', path='css/06-components/analyse_pipeline.css') }}">
{% endblock %}

{% block extra_js %}
<!-- Plotly.js pour les graphiques -->
<script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>

<!-- Module d'analyse de pipeline spÃ©cifique -->
<script src="/javascript/modules/analyse_pipeline.js"></script>
{% endblock %}