Fichier,Ligne,Fonction,Motif dÃ©tectÃ©,RÃ´le de l'objet,CatÃ©gorie,Impact perf,Action recommandÃ©e,PrioritÃ©
src/core/inference/dfine_infer.py,145,_get_best_bbox,"frame_mono.detach().to(""cpu"")",Frame image pour debug,ğŸŸ  Redondant,Moyen,Supprimer si debug uniquement,P2
src/core/inference/dfine_infer.py,173,_get_best_bbox,scores[idx].detach().item(),Score confidence,ğŸ”µ NÃ©cessaire,Faible,Garder - extraction scalaire,P3
src/core/inference/dfine_infer.py,178,_get_best_bbox,box_xyxy.cpu().numpy(),Bounding box finale,ğŸ”µ NÃ©cessaire,Moyen,Garder - rÃ©sultat final pour Slicer,P3
src/core/inference/dfine_infer.py,222,_get_best_bbox_detr,scores[idx].detach().item(),Score confidence,ğŸ”µ NÃ©cessaire,Faible,Garder - extraction scalaire,P3
src/core/inference/dfine_infer.py,243,_get_best_bbox_detr,box_xyxy.cpu().numpy(),Bounding box finale,ğŸ”µ NÃ©cessaire,Moyen,Garder - rÃ©sultat final pour Slicer,P3
src/core/inference/MobileSAM/mobile_sam/predictor.py,164,predict,masks[0].detach().cpu().numpy(),Masque de segmentation,ğŸ”´ Dangereux pour perf,Ã‰levÃ©,Garder en tensor GPU jusqu'au ResultPacket,P1
src/core/inference/MobileSAM/mobile_sam/predictor.py,165,predict,iou_predictions[0].detach().cpu().numpy(),PrÃ©dictions IoU,ğŸ”´ Dangereux pour perf,Ã‰levÃ©,Garder en tensor GPU jusqu'au ResultPacket,P1
src/core/inference/MobileSAM/mobile_sam/predictor.py,166,predict,low_res_masks[0].detach().cpu().numpy(),Masques basse rÃ©solution,ğŸŸ  Redondant,Moyen,Supprimer si non utilisÃ©,P2
src/core/inference/engine/orchestrator.py,88,prepare_sam_input,arr[0].permute().detach().cpu().numpy(),Image RGB pour SAM,ğŸ”´ Dangereux pour perf,Ã‰levÃ©,Convertir SAMâ†’GPU ou Ã©viter conversion,P1
src/core/inference/engine/inference_sam.py,186,_extract_mask_numpy,mask.detach().cpu().numpy(),Masque final,ğŸ”µ NÃ©cessaire,Moyen,Optimiser: diffÃ©rer conversion,P2
src/core/inference/d_fine/matcher.py,112,forward,C.cpu(),Matrice de coÃ»t,ğŸŸ  Redondant,Moyen,Garder sur GPU si possible,P2
src/core/inference/engine/model_loader.py,306,_cleanup_models,dfine.to(""cpu""),LibÃ©ration mÃ©moire GPU,ğŸ”µ NÃ©cessaire,Faible,Garder - nettoyage explicite,P3
src/core/inference/engine/model_loader.py,307,_cleanup_models,sam.to(""cpu""),LibÃ©ration mÃ©moire GPU,ğŸ”µ NÃ©cessaire,Faible,Garder - nettoyage explicite,P3
src/core/inference/MobileSAM/mobile_sam/Modeling/tiny_vit_sam.py,496,__init__,[x.item() for x in torch.linspace()],Drop path rates,ğŸ”µ NÃ©cessaire,Faible,Garder - configuration modÃ¨le,P3
src/core/inference/MobileSAM/mobile_sam/automatic_mask_generator.py,188,_process_batch,mask_data[""iou_preds""][idx].item(),IoU score,ğŸ”µ NÃ©cessaire,Faible,Garder - mÃ©trique scalaire,P3
src/core/inference/MobileSAM/mobile_sam/automatic_mask_generator.py,190,_process_batch,mask_data[""stability_score""][idx].item(),Stability score,ğŸ”µ NÃ©cessaire,Faible,Garder - mÃ©trique scalaire,P3
src/core/preprocessing/cpu_to_gpu.py,420,numpy,buf.numpy(),Buffer tensor,ğŸŸ  Redondant,Moyen,Analyser contexte usage,P2
tests/test_dfine_single_infer.py,98,test_dfine_inference,output[""pred_boxes""][0].detach().cpu().numpy(),Test bbox,ğŸ”µ NÃ©cessaire,Faible,Garder - validation test,P3
tests/test_dfine_single_infer.py,99,test_dfine_inference,torch.sigmoid(output[""pred_logits""][0]).detach().cpu().numpy(),Test scores,ğŸ”µ NÃ©cessaire,Faible,Garder - validation test,P3
tests/test_cpu_to_gpu_extra.py,22,test_gpu_flow,gf.tensor.cpu().numpy(),Test conversion,ğŸ”µ NÃ©cessaire,Faible,Garder - test unitaire,P3
tests/test_cpu_to_gpu.py,33,test_basic_conversion,t.cpu().numpy(),Test conversion,ğŸ”µ NÃ©cessaire,Faible,Garder - test unitaire,P3
tests/tests_gateway/test_validate_step1_step2.py,240,_tensor_statistics,tensor.cpu(),Test validation,ğŸ”µ NÃ©cessaire,Faible,Garder - diagnostic test,P3
tests/tests_gateway/test_validate_step1_step2.py,244,_tensor_statistics,cpu_tensor.min().item(),Test min value,ğŸ”µ NÃ©cessaire,Faible,Garder - diagnostic test,P3
tests/tests_gateway/test_validate_step1_step2.py,245,_tensor_statistics,cpu_tensor.max().item(),Test max value,ğŸ”µ NÃ©cessaire,Faible,Garder - diagnostic test,P3
tests/tests_gateway/test_gateway_dataset_mock.py,310,visualize_result,mask_tensor.squeeze().cpu().numpy(),Test visualization,ğŸ”µ NÃ©cessaire,Faible,Garder - test visualisation,P3